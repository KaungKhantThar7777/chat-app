# Listening port for TURN/UDP traffic
listening-port=3478

# Listening port for TURN/TLS traffic (secure)
tls-listening-port=5349

# Enable fingerprinting for added security
fingerprint

# Enable long-term credentials for user authentication (secure method)
lt-cred-mech

# Define the realm for your TURN server. Replace ${DOMAIN} with your actual domain.
realm=${DOMAIN}

# Define the username and password for TURN authentication. Replace ${TURN_USERNAME} and ${TURN_PASSWORD} with actual credentials.
user=${TURN_USERNAME}:${TURN_PASSWORD}

# Set the total number of simultaneous users allowed to connect to the TURN server
total-quota=100

# Set the bandwidth capacity (bps), 0 means no limit
bps-capacity=0

# Enable stale-nonce protection to prevent replay attacks
stale-nonce

# Disable loopback peers (only accept remote peers)
no-loopback-peers

# Disable multicast peers (only accept direct peers)
no-multicast-peers

# Enable logging (you can customize the log path and verbosity)
log-file=/var/log/turnserver.log
verbose

# Enable IPs binding for both IPv4 and IPv6 (if needed)
listening-ip=0.0.0.0        # Listens on all available network interfaces
relay-ip=0.0.0.0            # Optional: Relay traffic on all interfaces

# Enable relaying of media traffic (required for WebRTC)
server-relay=yes

# Optional: Configure additional relays (if needed, especially for production)
# relay-ip=public-ip
# relay-addr=public-ip

# Uncomment to set up database if needed for storing user credentials
# Database-driver=mysql
# Database-host=localhost
# Database-user=user
# Database-password=password
# Database-database=coturn
